
\chap Program design


\sec Use Cases

In following part I'd like to describe several use cases that should be solvable by implementation this work XXX


\secc Use Case 1 -- basic example case

I've created sample general use case on webpage
\url{http://www.inventati.org/kub1x/t/}. This use case can be seen on picture
below. It consists of table holding values about people, and link to detail
page.

\midinsert
\picw=12cm \cinspic screen-kub1x.png
\caption/f Example main page and detail page for the basic Use Case. 
\endinsert

In order to fulfill this usecase SOWL should support following operation: 

\begitems
  * load the foaf ontology that describe data bout people
  * create scenario with two templates: init and detail
  * save this scenario to a file
\enditems

crOWLer should be able to: 

\begitems
  * accept and parse scenario created by SOWL
  * follow this scenario while scraping data from the page
  * store results into rdf files
\enditems


\secc Use Case 2 - NPU

\midinsert
\picw=12cm \cinspic screen-npu-list.png
\caption/f Partial view at data on National Heritage Institute webpage. 
\endinsert

\midinsert
\picw=12cm \cinspic screen-npu-detail.png
\caption/f View on detail page on National Heritage Institute webpage. 
\endinsert


\secc Use Case 3 - RLP


\secc Use Case 4 - NTSB

\urlnote{http://www.ntsb.gov/investigations/AccidentReports/Pages/AccidentReports.aspx}

\midinsert
\picw=12cm \cinspic screen-ntsb-list.png
\caption/f View on list page on National Transportation Safety Board webpage. 
\endinsert

\midinsert
\picw=12cm \cinspic screen-ntsb-detail.png
\caption/f View on detail page on National Transportation Safety Board webpage. 
\endinsert


\secc Use Case - others

\begitems
  * beerborec.cz
  * citybee.cz
\enditems



\sec Workflow

\secc Main line

\begitems
  * user loads/creates ontology using sowl
  * user opens webpage with data
  * user creates scenario using sowl
  * sowl sends scenario to crowler
  * crowler crawls the web according to scenario and stores results in repository
  * ~ + crowler sends data to sowl which embeds them in original web page (XXX)
\enditems


\secc Scenario creation

\begitems
  * user starts scenario creation in sowl
  * loop until finished:
  \begitems
    * user selects an element on page
    * user select action on element (perform and record event, i.e. click on link, narrow HTML context, assign element - object or property according to situation, ...)
    * sowl records the action in scenario
  \enditems
\enditems


\secc Additional branches to Scenario Creation

\begitems
  * user can navigate through scenario by clicking scenario steps
  * user can navigate through scenario by clicking ontological context
  * user can navigate through scenario by clicking areas on webpage covered by scenario
  * when user clicks on a hyperlink: 
  \begitems
    * existing template can be assigned to the action (no need to actually follow the link)
    * new tamplete can be created for resulting action (resulting page loaded, new template created, click through shown in breadcrumbs)
  \enditems
\enditems



\sec Model

~


\sec Imlementation

~


\sec Issues - solved and unsolved

\begitems
  * error handling (non existent selector, missing data, ...)
\enditems

% * diagramy... clas, sequence (komunikace s jOWLem, komunikace s generatorem selectoru, ), 
% * model
% * vyresene, nevyresene problemy




